![](https://pic.downk.cc/item/5fe1df133ffa7d37b37f2145.png)

### 中断的作用  ：

​           CPU 上会运行两种程序，一种是操作系统内核程序，一种是应用程序 ， 在合适的情况下，操作系统内核会把CPU的使用权主动让给应用程序， “中断”是让操作系统内核夺回CPU使用权的唯一途径 如果没有“中断”机制，那么一旦应用程序上CPU运行，CPU就会一直运行这个应用程序 。

-  **内核态  ---> 用户态：**  执行一条特权指令——修改PSW的标志位为“用户态”，这个动作意味着操作系统 将主动让出CPU使用权 .

-  **用户态 ---> 内核态：**  由“中断”引发，硬件自动完成变态过程，触发中断信号意味着操作系统将强行夺 回CPU的使用权 。

  

###  中断的类型 ：

- ​	**内中断 ：** 与当前执行的指令有关， 中断信号来源于CPU内部 。

  - **陷阱/陷入：**有时候应用程序想请求操作系统内核的服务，此时会执行一条特殊的指令——陷入指令，该指 令会引发一个内部中断信号 。

  -  **故障：** 由错误条件引起的，可能被 内核程序修复。内核程序修 复故障后会把 CPU使用权还 给应用程序，让它继续执行 下去。如：缺页故障。 
  -  **中止：**执行除法指令时发现除数为 0 

- ​    **外中断：** 与当前执行的指令无关， 中断信号来源于CPU外部 

  -  **时钟中断：**由时钟部件发来的中断信号  
  -  **I/O中断请求：**当输入输出任务完成时， 向CPU发送中断信号 

###  中断机制的基本原理 ：

不同的中断信号，需要用不同的中断处理程序来处理。当CPU检测到中断信号后，会根据中断信号 的类型去查询“中断向量表”，以此来找到相应的中断处理程序在内存中的存放位置。

![](https://pic.downk.cc/item/5fe1e3263ffa7d37b383ce80.png) 

