# redis前导知识

**首先写在开篇的话，感谢狂神大大，附上狂神的网站，[KuangSheng](https://www.kuangstudy.com/)**



首先我们知道redis是一款非关系型数据库（nosql）

### nosql概述

1. ##### 为什么我们使用Nosql

   架构中有关数据库的改变

   1. 单机时代
   2. 缓存+垂直拆分
   3. 分库分表+水平拆分+数据库集群

2. ##### 什么是Nosql

   Not Only Sql

   1. 方便扩展（数据之间没有关系）
   2. 大数据高性能（Redis一秒写8万次，读取11万次，NoSQL的缓存记录级，是一种细粒度的缓存，性能比较高）
   3. 数据类型是多样性的（不需要事先设计数据库（因为数据量大），随取随用）
   4. 传统RDBMS和NoSQL
      - 传统RDBMS
        - 结构化组织
        - SQL
        - **数据和关系都存在单独的表中**
        - 操作，数据定义语言
        - 严格的一致性
        - 基础的事务
        - …
      - NoSQL
        - 不仅仅是SQL
        - 没有固定的查询语句
        - **键值对存储，列存储，文档存储，图形数据库（社交关系）**
        - 最终一致性
        - CAP定理和BASE
        - 高性能，高可用，高可扩
        - …

3. ##### NoSQL的四大分类

   #### 1.KV键值对

   - 新浪：Redis
   - 美团：Redis + Tair
   - 阿里、百度：Redis + Memcached

   #### 2.文档型数据库（bson格式）

   - MongoDB（必须掌握）
     - 基于分布式文件存储的数据库（C++编写）
     - 主要用于处理大量的文档
     - 介于关系型数据库和非关系型数据库中的中间产品
   - ConthDB

   #### 3.列式存储

   - HBase
   - 分布式文件系统

   #### 4.图关系数据库

   - 存关系的，不是存图片的（比如，朋友圈社交网络，广告推荐）
   - Neo4j、InfoGrid

   #### 对比

   | **分类**              | **Examples举例**                               | **典型应用场景**                                             | **数据模型**                                | **优点**                                                     | **缺点**                                                     |
   | --------------------- | ---------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
   | **键值（key-value）** | Tokyo Cabine/Tyrant Redis Voldemort Oracle BDB | **内容缓存**，主要用于处理大量数据的高访问负载，也用于一些**日志系统**等等 | Key指向Value的键值对，通常用hashtable来实现 | 查找速度快                                                   | 数据无结构化，通常只被当作字符串或者二进制数据               |
   | **列存储数据库**      | Cassandra HBase Riak                           | 分布式的文件系统                                             | 以列簇式存储，将同一列数据存在一起          | 查找速度快，可扩展性强，更容易进行分布式扩展                 | 功能相对局限                                                 |
   | **文档型数据库**      | CouchDB MongoDB                                | Web应用（与Key-Value类似，Value是结构化的，不同的是数据库能够了解Value的内容） | Key-Value对应的键值对，Value为结构化数据    | 数据结构要求不严谨，表结构可变，不需要像关系型数据库一样需要预先定义表结构 | 查询性能不高，而且缺乏统一的查询语法                         |
   | **图形数据库**        | Neo4J InfoGrid Infinite Graph                  | 社交网络，推荐系统等。专注于构建关系图谱                     | 图结构                                      | 利用图结构相关算法。比如最短路径寻址，N度关系查找等          | 很多时候需要对整个图做计算才能得出需要的信息，而且这种结构不太好做分布式的集群方案 |