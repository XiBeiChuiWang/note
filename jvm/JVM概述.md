# JVM概述

学Java的小伙伴肯定对jvm不会陌生，从第一节课开始，我们就一直听到jvm。

#### java的逻辑结构

![](https://pic.imgdb.cn/item/600e51933ffa7d37b3d87156.png)

可以看到jvm就是最底层，那么jvm是一种操作系统吗？

![](https://pic.imgdb.cn/item/600e51f33ffa7d37b3d894b9.png)

当然也有极少数jvm是直接可以与硬件打交道的，我们一会儿会介绍。

### Java代码的执行流程

![](https://pic.imgdb.cn/item/600e52783ffa7d37b3d8c6e2.png)

**我们说说这个翻译字节码（解释执行）和JIT编译器（编译执行）的区别**

解析执行是一行一行的执行

JIT是会把一些经常执行的代码缓存下来，反应更快，但是在执行前需要准备

详细的以后在学习执行引擎时会细讲

### jvm的结构

![](https://pic.imgdb.cn/item/600e52ce3ffa7d37b3d8f1b3.png)



**现在我们看看几种影响力较大的虚拟机**

**远古时期**

|       虚拟机       | 提供版本 |                             备注                             |
| :----------------: | :------: | :----------------------------------------------------------: |
| **SUN Classic VM** |  jdk1.0  | 内部只提供解释器<br />如果使用JIT编译器，需要外挂<br />二者只能选择其一 |
|    **Exact VM**    |  jdk1.2  | 提供准确内存管理，虚拟机可以知道内存中的某个位置的数据具体是什么类型<br />编译器与解释器混合工作（热点探测） |

**三大虚拟机**

|     虚拟机     |           应用场景           |              备注              |
| :------------: | :--------------------------: | :----------------------------: |
| **HotSpot VM** | 服务器，桌面，移动端，嵌入式 |      默认虚拟机，应用最广      |
|  **JRockit**   |         专注于服务器         | 不包含解析器<br />最快的虚拟机 |
|     **J9**     | 服务器，桌面，移动端，嵌入式 |        自称最快的虚拟机        |

**其他虚拟机**

|          虚拟机          |     应用场景     |                             备注                             |
| :----------------------: | :--------------: | :----------------------------------------------------------: |
| **KVM,CDC/CLDC Hotspot** |  移动端，嵌入式  | 由于目前java在移动领域地位不行<br />所以他也不太行（老人机等） |
|       **Azul VM**        |  与特定硬件绑定  |                    速度很快，但兼容性不行                    |
|      **Liquid VM**       | 运行在自家系统上 |                    速度很快，但兼容性不行                    |
|    **Apache Harmony**    |        ——        |                       由于被排挤，没了                       |
|    **Microsoft JVM**     |     Windows      |                        被告了，也没了                        |
|      **TaobaoJVM**       |     阿里自用     |                性能好，但是硬件严重依赖intel                 |

